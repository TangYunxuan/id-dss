import{d as k,u as _,r as p,g as V,h as M,i as h,c as a,a as e,j as f,w as u,e as b,v as m,k as y,F as g,l as x,t as v,m as A,o as n,f as I}from"./index-Dch-8Eue.js";import{u as O,c as q}from"./api-C0GNVXHU.js";const U={class:"animate-fade-in"},B={class:"card p-6 space-y-6"},P={class:"grid sm:grid-cols-2 gap-6"},E=["value"],F=["value"],L={key:0,class:"p-4 rounded-lg bg-red-50 border border-red-200 text-red-700 text-sm"},T={class:"flex justify-end"},z=["disabled"],D={key:0,class:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24"},H={key:1},N={key:2,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},K=k({__name:"CourseContextView",setup(R){const j=I(),i=_(),r=p(!1),d=p(""),c=V(()=>i.hasActiveSession&&!!i.sessionId),s=M({course_title:"",level:"",modality:"",constraints:"",learning_objectives:""});h(()=>{c.value&&Object.assign(s,i.courseContext)});const w=[{value:"undergraduate",label:"Undergraduate"},{value:"graduate",label:"Graduate"}],S=[{value:"in-person",label:"In-Person"},{value:"hybrid",label:"Hybrid"},{value:"online",label:"Online"}];async function C(){if(!s.course_title||!s.level||!s.modality){d.value="Please fill in all required fields.";return}r.value=!0,d.value="";try{let o=i.currentSession;c.value&&i.sessionId?o=await O(i.sessionId,{course_title:s.course_title,level:s.level,modality:s.modality,constraints:s.constraints||void 0,learning_objectives:s.learning_objectives||void 0}):o=await q({course_title:s.course_title,level:s.level,modality:s.modality,constraints:s.constraints||void 0,learning_objectives:s.learning_objectives||void 0}),i.setSession(o),i.setCourseContext(s),i.setCurrentPhase("objective-analysis"),j.push("/objective-analysis")}catch(o){console.error("Failed to create session:",o),d.value="Failed to create session. Please try again."}finally{r.value=!1}}return(o,t)=>(n(),a("div",U,[t[16]||(t[16]=e("div",{class:"mb-8"},[e("h1",{class:"text-2xl font-bold text-surface-900 mb-2"},"Course Context"),e("p",{class:"text-surface-600"}," Provide information about your course to help the AI generate relevant suggestions. ")],-1)),e("form",{onSubmit:A(C,["prevent"]),class:"space-y-6"},[e("div",B,[e("div",null,[t[5]||(t[5]=e("label",{for:"course_title",class:"input-label"},[b(" Course Title "),e("span",{class:"text-red-500"},"*")],-1)),u(e("input",{id:"course_title","onUpdate:modelValue":t[0]||(t[0]=l=>s.course_title=l),type:"text",class:"input-field",placeholder:"e.g., Introduction to Machine Learning",required:""},null,512),[[m,s.course_title]])]),e("div",P,[e("div",null,[t[7]||(t[7]=e("label",{for:"level",class:"input-label"},[b(" Education Level "),e("span",{class:"text-red-500"},"*")],-1)),u(e("select",{id:"level","onUpdate:modelValue":t[1]||(t[1]=l=>s.level=l),class:"select-field",required:""},[t[6]||(t[6]=e("option",{value:"",disabled:""},"Select level...",-1)),(n(),a(g,null,x(w,l=>e("option",{key:l.value,value:l.value},v(l.label),9,E)),64))],512),[[y,s.level]])]),e("div",null,[t[9]||(t[9]=e("label",{for:"modality",class:"input-label"},[b(" Delivery Modality "),e("span",{class:"text-red-500"},"*")],-1)),u(e("select",{id:"modality","onUpdate:modelValue":t[2]||(t[2]=l=>s.modality=l),class:"select-field",required:""},[t[8]||(t[8]=e("option",{value:"",disabled:""},"Select modality...",-1)),(n(),a(g,null,x(S,l=>e("option",{key:l.value,value:l.value},v(l.label),9,F)),64))],512),[[y,s.modality]])])]),e("div",null,[t[10]||(t[10]=e("label",{for:"learning_objectives",class:"input-label"}," Learning Objectives ",-1)),u(e("textarea",{id:"learning_objectives","onUpdate:modelValue":t[3]||(t[3]=l=>s.learning_objectives=l),class:"textarea-field",rows:"5",placeholder:`Enter your learning objectives, one per line...

e.g.,
• Students will be able to explain the fundamentals of supervised learning
• Students will be able to implement a basic neural network`},null,512),[[m,s.learning_objectives]]),t[11]||(t[11]=e("p",{class:"mt-1.5 text-sm text-surface-500"}," These will be analyzed by the AI in the next step. ",-1))]),e("div",null,[t[12]||(t[12]=e("label",{for:"constraints",class:"input-label"}," Constraints & Requirements ",-1)),u(e("textarea",{id:"constraints","onUpdate:modelValue":t[4]||(t[4]=l=>s.constraints=l),class:"textarea-field",rows:"3",placeholder:"e.g., 15-week semester, max 30 students, limited lab access..."},null,512),[[m,s.constraints]]),t[13]||(t[13]=e("p",{class:"mt-1.5 text-sm text-surface-500"}," Any limitations or specific requirements for the course design. ",-1))])]),d.value?(n(),a("div",L,v(d.value),1)):f("",!0),e("div",T,[e("button",{type:"submit",class:"btn-primary",disabled:r.value},[r.value?(n(),a("svg",D,[...t[14]||(t[14]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(n(),a("span",H,v(c.value?"Save & Continue to Objective Analysis":"Continue to Objective Analysis"),1)),r.value?f("",!0):(n(),a("svg",N,[...t[15]||(t[15]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"},null,-1)])]))],8,z)])],32)]))}});export{K as default};
