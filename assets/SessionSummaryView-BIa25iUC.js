import{d as y,u as w,r as p,i as k,f as h,g as _,c as a,b as C,a as e,j as m,t as n,p as S,e as f,o as l}from"./index-BIMWRJSL.js";import{d as E,e as j}from"./api-CxRqiZlS.js";const I={class:"animate-fade-in"},N={class:"space-y-6 mb-8"},B={class:"card p-6"},M={class:"grid sm:grid-cols-2 gap-6"},D={class:"font-medium text-surface-900"},V={class:"font-mono text-sm text-surface-700"},z={class:"font-medium text-surface-900 capitalize"},A={class:"font-medium text-surface-900 capitalize"},P={class:"card p-6"},R={key:0,class:"bg-surface-50 rounded-lg p-4 text-sm text-surface-700 whitespace-pre-wrap"},H={key:1,class:"bg-surface-50 rounded-lg p-4 text-sm text-surface-500 italic"},L={key:0,class:"card p-6"},T={class:"bg-surface-50 rounded-lg p-4 text-sm text-surface-700 whitespace-pre-wrap"},q={key:0,class:"mb-6 p-4 rounded-lg bg-red-50 border border-red-200 text-red-700 text-sm"},F={class:"card p-6 bg-gradient-to-br from-brand-50 to-brand-100/50 border-brand-200 mb-8"},O={class:"flex items-center justify-between"},W={class:"flex items-center gap-2"},$=["disabled"],G={key:0,class:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24"},J={key:1,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},K=["disabled"],Q={class:"flex justify-between"},ee=y({__name:"SessionSummaryView",setup(U){const c=h(),t=w(),o=p(!1),d=p("");k(async()=>{if(!t.hasActiveSession){c.push("/new-session");return}});const i=_(()=>{var r;return{course:t.courseContext.course_title,level:t.courseContext.level,modality:t.courseContext.modality,constraints:t.courseContext.constraints,objectives:t.courseContext.learning_objectives,sessionId:t.sessionId,createdAt:(r=t.currentSession)==null?void 0:r.created_at}});async function x(){if(t.sessionId){o.value=!0,d.value="";try{await E(t.sessionId)}catch(r){console.error("Export failed:",r),d.value="Export failed. Please try again."}finally{o.value=!1}}}async function b(){if(t.sessionId){o.value=!0,d.value="";try{await j(t.sessionId)}catch(r){console.error("Export failed:",r),d.value="Export failed. Please try again."}finally{o.value=!1}}}function g(){t.resetSession(),c.push("/new-session")}return(r,s)=>{var u,v;return l(),a("div",I,[s[13]||(s[13]=C('<div class="mb-8"><div class="flex items-center gap-3 mb-2"><div class="w-10 h-10 rounded-xl bg-emerald-100 text-emerald-600 flex items-center justify-center"><svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h1 class="text-2xl font-bold text-surface-900">Session Summary</h1></div><p class="text-surface-600"> Review your design session and export the complete data. </p></div>',1)),e("div",N,[e("div",B,[s[5]||(s[5]=e("h2",{class:"text-sm font-semibold text-surface-500 uppercase tracking-wider mb-4"},"Course Information",-1)),e("div",M,[e("div",null,[s[1]||(s[1]=e("div",{class:"text-xs text-surface-500 mb-1"},"Course Title",-1)),e("div",D,n(i.value.course||"Not specified"),1)]),e("div",null,[s[2]||(s[2]=e("div",{class:"text-xs text-surface-500 mb-1"},"Session ID",-1)),e("div",V,"#"+n(i.value.sessionId),1)]),e("div",null,[s[3]||(s[3]=e("div",{class:"text-xs text-surface-500 mb-1"},"Education Level",-1)),e("div",z,n(((u=i.value.level)==null?void 0:u.replace("-"," "))||"Not specified"),1)]),e("div",null,[s[4]||(s[4]=e("div",{class:"text-xs text-surface-500 mb-1"},"Delivery Modality",-1)),e("div",A,n(((v=i.value.modality)==null?void 0:v.replace("-"," "))||"Not specified"),1)])])]),e("div",P,[s[6]||(s[6]=e("h2",{class:"text-sm font-semibold text-surface-500 uppercase tracking-wider mb-4"},"Learning Objectives",-1)),i.value.objectives?(l(),a("div",R,n(i.value.objectives),1)):(l(),a("div",H," No learning objectives were specified for this session. "))]),i.value.constraints?(l(),a("div",L,[s[7]||(s[7]=e("h2",{class:"text-sm font-semibold text-surface-500 uppercase tracking-wider mb-4"},"Constraints & Requirements",-1)),e("div",T,n(i.value.constraints),1)])):m("",!0)]),d.value?(l(),a("div",q,n(d.value),1)):m("",!0),e("div",F,[e("div",O,[s[10]||(s[10]=e("div",null,[e("h2",{class:"font-semibold text-brand-900 mb-1"},"Export Session Data"),e("p",{class:"text-sm text-brand-700"}," Download your complete design session including all steps, AI recommendations, and your decisions. ")],-1)),e("div",W,[e("button",{onClick:x,disabled:o.value,class:"btn-primary"},[o.value?(l(),a("svg",G,[...s[8]||(s[8]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(l(),a("svg",J,[...s[9]||(s[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"},null,-1)])])),e("span",null,n(o.value?"Exporting...":"Export Word"),1)],8,$),e("button",{onClick:b,disabled:o.value,class:"btn-secondary"}," Export PDF ",8,K)])])]),e("div",Q,[e("button",{onClick:s[0]||(s[0]=X=>S(c).push("/activity-suggestion")),class:"btn-secondary"},[...s[11]||(s[11]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 17l-5-5m0 0l5-5m-5 5h12"})],-1),f(" Back to Activities ",-1)])]),e("button",{onClick:g,class:"btn-primary"},[...s[12]||(s[12]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),f(" Start New Session ",-1)])])])])}}});export{ee as default};
